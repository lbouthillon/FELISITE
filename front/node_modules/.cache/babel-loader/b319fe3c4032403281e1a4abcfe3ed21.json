{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\louis\\\\killer\\\\front\\\\src\\\\components\\\\user\\\\createuser.jsx\";\nimport React, { Component } from 'react';\nimport { Segment, Form, Button, Portal, Message } from 'semantic-ui-react';\nimport PropTypes from 'prop-types';\nimport axios from 'axios';\nimport config from '../../config.json';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass CreateUser extends Component {\n  constructor(props) {\n    super(props);\n\n    this.componentDidMount = () => {\n      this.setState({\n        token: this.props.match.params.token\n      });\n    };\n\n    this.handleChange = event => {\n      const {\n        target\n      } = event;\n      const {\n        value\n      } = target;\n      const {\n        name\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n\n    this.makeFeedback = (variant, message) => {\n      this.setState({\n        message,\n        variant,\n        open: true\n      });\n      setTimeout(() => {\n        this.setState({\n          message: null,\n          variant: null,\n          open: false\n        });\n      }, 5000);\n    };\n\n    this.handleSubmit = () => {\n      const {\n        room,\n        pseudo,\n        phone,\n        token,\n        school\n      } = this.state;\n      let errorName = null;\n      let errorRoom = null;\n      const errorNumber = null;\n\n      if (/(^1([A-D]([1-4]0[1-9]|[2-4](1[0-9]|2[0-4]))|[ABD]11[0-7]|C11[0-5])$)|(^2([A-C][GD]|D|DD)([0-3]|[GD])([12]|[GD])(0[0-6]|[1-4][12]|)$)|(^3E?(([GD][0-3]|C[1-3])(0[1-9]|10)|C00[1-8])(A|B)?$)|(^4([AB]|C[A-E]|[D-H])[0-9]{3}$)|(^5A[0-9]{3}(-[0-9])?$)|(^6([AD][AB]|BA|CA)[1-5]0[1-6]$)|(PAS SUR LE CAMPUS)/.test(room) === false) {\n        errorRoom = 'La chambre ne respecte pas la convention (Le numéro de la résidence, La lettre de la résidence, La lettre de l\\'aile (si besoin), Numéro d\\'étage, Numéro de chambre, Attention les lettres doivent être en majuscules. Si vous n\\'êtes pas sur le campus contactez un MJ';\n      }\n\n      if (pseudo.length > 50) {\n        errorName = 'Votre pseudo est trop long (50 car. max)';\n      } else if (pseudo.length < 4) {\n        errorName = 'Votre pseudo est trop court';\n      }\n\n      if (errorName !== null || errorRoom !== null) {\n        this.setState({\n          errorNumber,\n          errorName,\n          errorRoom\n        });\n      } else {\n        axios({\n          method: 'post',\n          url: `${config.back_Url}/users`,\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          data: {\n            token,\n            pseudo,\n            room,\n            phone,\n            school\n          }\n        }).then(response => {\n          if (response.data.status === 201) {\n            window.location.assign(`${config.front_Url}/login/${response.data.object}`);\n          } else if (response.data.status === 400) {\n            this.makeFeedback('negative', response.data.message);\n          } else {\n            this.makeFeedback('negative', \"Le compte n'a pas pu être créé\");\n          }\n        });\n      }\n    };\n\n    this.state = {\n      token: '',\n      room: '',\n      pseudo: '',\n      phone: '',\n      school: '',\n      message: null,\n      variant: null,\n      open: false,\n      errorName: null,\n      errorRoom: null,\n      errorNumber: null\n    };\n  }\n\n  render() {\n    const {\n      variant,\n      message,\n      open\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bodyDesktop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"BigSpace\",\n        children: /*#__PURE__*/_jsxDEV(Segment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Inscription joueur\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Portal, {\n            open: open,\n            children: /*#__PURE__*/_jsxDEV(Message, {\n              style: {\n                left: '20px',\n                position: 'fixed',\n                bottom: '20px',\n                zIndex: 1000\n              },\n              negative: variant === 'negative',\n              positive: variant === 'positive',\n              children: [/*#__PURE__*/_jsxDEV(Message.Header, {\n                children: variant === 'negative' ? 'Une erreur est survenue' : \"Tout s'est déroulé comme prévu\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), message]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form, {\n            onSubmit: this.handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Form.Field, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Pseudo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n                placeholder: \"pseudo\",\n                name: \"pseudo\",\n                onChange: this.handleChange,\n                error: this.state.errorName\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Chambre\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n                placeholder: \"Chambre\",\n                name: \"room\",\n                onChange: this.handleChange,\n                error: this.state.errorRoom\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Num\\xE9ro de t\\xE9l\\xE9phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n                type: \"number\",\n                placeholder: \"Num\\xE9ro\",\n                name: \"phone\",\n                onChange: this.handleChange,\n                error: this.state.errorNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Field, {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"ST/Mention/C\\xE9sure/Electifs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Input, {\n                placeholder: \"ST/mention/c\\xE9sure/Electif\",\n                name: \"school\",\n                onChange: this.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              children: \"Cr\\xE9er mon profil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nCreateUser.propTypes = {\n  match: PropTypes.shape({\n    url: PropTypes.shape({\n      replace: PropTypes.func\n    }),\n    params: PropTypes.shape({\n      token: PropTypes.string\n    }).isRequired\n  }).isRequired,\n  history: PropTypes.shape({\n    push: PropTypes.func\n  }).isRequired,\n  location: PropTypes.shape({\n    state: PropTypes.shape({\n      from: PropTypes.shape({\n        pathname: PropTypes.shape({\n          replace: PropTypes.func\n        })\n      })\n    })\n  }).isRequired\n};\nexport default CreateUser;","map":{"version":3,"sources":["C:/Users/louis/killer/front/src/components/user/createuser.jsx"],"names":["React","Component","Segment","Form","Button","Portal","Message","PropTypes","axios","config","CreateUser","constructor","props","componentDidMount","setState","token","match","params","handleChange","event","target","value","name","makeFeedback","variant","message","open","setTimeout","handleSubmit","room","pseudo","phone","school","state","errorName","errorRoom","errorNumber","test","length","method","url","back_Url","headers","data","then","response","status","window","location","assign","front_Url","object","render","left","position","bottom","zIndex","propTypes","shape","replace","func","string","isRequired","history","push","from","pathname"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SACEC,OADF,EACWC,IADX,EACiBC,MADjB,EACyBC,MADzB,EACiCC,OADjC,QAEO,mBAFP;AAGA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;;AAEA,MAAMC,UAAN,SAAyBT,SAAzB,CAAmC;AACjCU,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAiBnBC,iBAjBmB,GAiBC,MAAM;AACxB,WAAKC,QAAL,CAAc;AACZC,QAAAA,KAAK,EAAE,KAAKH,KAAL,CAAWI,KAAX,CAAiBC,MAAjB,CAAwBF;AADnB,OAAd;AAGD,KArBkB;;AAAA,SAuBnBG,YAvBmB,GAuBHC,KAAD,IAAW;AACxB,YAAM;AAAEC,QAAAA;AAAF,UAAaD,KAAnB;AACA,YAAM;AAAEE,QAAAA;AAAF,UAAYD,MAAlB;AACA,YAAM;AAAEE,QAAAA;AAAF,UAAWF,MAAjB;AAEA,WAAKN,QAAL,CAAc;AACZ,SAACQ,IAAD,GAAQD;AADI,OAAd;AAGD,KA/BkB;;AAAA,SAiCnBE,YAjCmB,GAiCJ,CAACC,OAAD,EAAUC,OAAV,KAAsB;AACnC,WAAKX,QAAL,CAAc;AACZW,QAAAA,OADY;AAEZD,QAAAA,OAFY;AAGZE,QAAAA,IAAI,EAAE;AAHM,OAAd;AAKAC,MAAAA,UAAU,CAAC,MAAM;AACf,aAAKb,QAAL,CAAc;AACZW,UAAAA,OAAO,EAAE,IADG;AAEZD,UAAAA,OAAO,EAAE,IAFG;AAGZE,UAAAA,IAAI,EAAE;AAHM,SAAd;AAKD,OANS,EAMP,IANO,CAAV;AAOD,KA9CkB;;AAAA,SAgDnBE,YAhDmB,GAgDJ,MAAM;AACnB,YAAM;AACJC,QAAAA,IADI;AACEC,QAAAA,MADF;AACUC,QAAAA,KADV;AACiBhB,QAAAA,KADjB;AACwBiB,QAAAA;AADxB,UAEF,KAAKC,KAFT;AAGA,UAAIC,SAAS,GAAG,IAAhB;AAAsB,UAAIC,SAAS,GAAG,IAAhB;AAAsB,YAC1CC,WAAW,GAAG,IAD4B;;AAG5C,UAAI,2SAA2SC,IAA3S,CAAgTR,IAAhT,MAA0T,KAA9T,EAAqU;AACnUM,QAAAA,SAAS,GAAG,2QAAZ;AACD;;AACD,UAAIL,MAAM,CAACQ,MAAP,GAAgB,EAApB,EAAwB;AACtBJ,QAAAA,SAAS,GAAG,0CAAZ;AACD,OAFD,MAEO,IAAIJ,MAAM,CAACQ,MAAP,GAAgB,CAApB,EAAuB;AAC5BJ,QAAAA,SAAS,GAAG,6BAAZ;AACD;;AAED,UAAIA,SAAS,KAAK,IAAd,IAAsBC,SAAS,KAAK,IAAxC,EAA8C;AAC5C,aAAKrB,QAAL,CAAc;AACZsB,UAAAA,WADY;AACCF,UAAAA,SADD;AACYC,UAAAA;AADZ,SAAd;AAGD,OAJD,MAIO;AACL3B,QAAAA,KAAK,CAAC;AACJ+B,UAAAA,MAAM,EAAE,MADJ;AAEJC,UAAAA,GAAG,EAAG,GAAE/B,MAAM,CAACgC,QAAS,QAFpB;AAGJC,UAAAA,OAAO,EAAE;AAAE,4BAAgB;AAAlB,WAHL;AAIJC,UAAAA,IAAI,EAAE;AACJ5B,YAAAA,KADI;AAEJe,YAAAA,MAFI;AAGJD,YAAAA,IAHI;AAIJE,YAAAA,KAJI;AAKJC,YAAAA;AALI;AAJF,SAAD,CAAL,CAWGY,IAXH,CAWSC,QAAD,IAAc;AACpB,cAAIA,QAAQ,CAACF,IAAT,CAAcG,MAAd,KAAyB,GAA7B,EAAkC;AAChCC,YAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAwB,GAAExC,MAAM,CAACyC,SAAU,UAASL,QAAQ,CAACF,IAAT,CAAcQ,MAAO,EAAzE;AACD,WAFD,MAEO,IAAIN,QAAQ,CAACF,IAAT,CAAcG,MAAd,KAAyB,GAA7B,EAAkC;AACvC,iBAAKvB,YAAL,CACE,UADF,EAEEsB,QAAQ,CAACF,IAAT,CAAclB,OAFhB;AAID,WALM,MAKA;AACL,iBAAKF,YAAL,CACE,UADF,EAEE,gCAFF;AAID;AACF,SAzBD;AA0BD;AACF,KAhGkB;;AAEjB,SAAKU,KAAL,GAAa;AACXlB,MAAAA,KAAK,EAAE,EADI;AAEXc,MAAAA,IAAI,EAAE,EAFK;AAGXC,MAAAA,MAAM,EAAE,EAHG;AAIXC,MAAAA,KAAK,EAAE,EAJI;AAKXC,MAAAA,MAAM,EAAE,EALG;AAMXP,MAAAA,OAAO,EAAE,IANE;AAOXD,MAAAA,OAAO,EAAE,IAPE;AAQXE,MAAAA,IAAI,EAAE,KARK;AASXQ,MAAAA,SAAS,EAAE,IATA;AAUXC,MAAAA,SAAS,EAAE,IAVA;AAWXC,MAAAA,WAAW,EAAE;AAXF,KAAb;AAaD;;AAmFDgB,EAAAA,MAAM,GAAG;AACP,UAAM;AAAE5B,MAAAA,OAAF;AAAWC,MAAAA,OAAX;AAAoBC,MAAAA;AAApB,QAA6B,KAAKO,KAAxC;AACA,wBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA,+BACE,QAAC,OAAD;AAAA,kCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,MAAD;AAAQ,YAAA,IAAI,EAAEP,IAAd;AAAA,mCACE,QAAC,OAAD;AACE,cAAA,KAAK,EAAE;AACL2B,gBAAAA,IAAI,EAAE,MADD;AAELC,gBAAAA,QAAQ,EAAE,OAFL;AAGLC,gBAAAA,MAAM,EAAE,MAHH;AAILC,gBAAAA,MAAM,EAAE;AAJH,eADT;AAOE,cAAA,QAAQ,EAAEhC,OAAO,KAAK,UAPxB;AAQE,cAAA,QAAQ,EAAEA,OAAO,KAAK,UARxB;AAAA,sCAUE,QAAC,OAAD,CAAS,MAAT;AAAA,0BAAiBA,OAAO,KAAK,UAAZ,GAAyB,yBAAzB,GAAqD;AAAtE;AAAA;AAAA;AAAA;AAAA,sBAVF,EAWGC,OAXH;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAFF,eAiBE,QAAC,IAAD;AAAM,YAAA,QAAQ,EAAE,KAAKG,YAArB;AAAA,oCACE,QAAC,IAAD,CAAM,KAAN;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,WAAW,EAAC,QAAxB;AAAiC,gBAAA,IAAI,EAAC,QAAtC;AAA+C,gBAAA,QAAQ,EAAE,KAAKV,YAA9D;AAA4E,gBAAA,KAAK,EAAE,KAAKe,KAAL,CAAWC;AAA9F;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAKE,QAAC,IAAD,CAAM,KAAN;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,WAAW,EAAC,SAAxB;AAAkC,gBAAA,IAAI,EAAC,MAAvC;AAA8C,gBAAA,QAAQ,EAAE,KAAKhB,YAA7D;AAA2E,gBAAA,KAAK,EAAE,KAAKe,KAAL,CAAWE;AAA7F;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBALF,eASE,QAAC,IAAD,CAAM,KAAN;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,IAAI,EAAC,QAAjB;AAA0B,gBAAA,WAAW,EAAC,WAAtC;AAA+C,gBAAA,IAAI,EAAC,OAApD;AAA4D,gBAAA,QAAQ,EAAE,KAAKjB,YAA3E;AAAyF,gBAAA,KAAK,EAAE,KAAKe,KAAL,CAAWG;AAA3G;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBATF,eAaE,QAAC,IAAD,CAAM,KAAN;AAAA,sCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAEE,QAAC,IAAD,CAAM,KAAN;AAAY,gBAAA,WAAW,EAAC,8BAAxB;AAAoD,gBAAA,IAAI,EAAC,QAAzD;AAAkE,gBAAA,QAAQ,EAAE,KAAKlB;AAAjF;AAAA;AAAA;AAAA;AAAA,sBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,oBAbF,eAiBE,QAAC,MAAD;AAAQ,cAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA,kBAjBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AA2CD;;AAhJgC;;AAmJnCR,UAAU,CAAC+C,SAAX,GAAuB;AACrBzC,EAAAA,KAAK,EAAET,SAAS,CAACmD,KAAV,CAAgB;AACrBlB,IAAAA,GAAG,EAAEjC,SAAS,CAACmD,KAAV,CAAgB;AACnBC,MAAAA,OAAO,EAAEpD,SAAS,CAACqD;AADA,KAAhB,CADgB;AAIrB3C,IAAAA,MAAM,EAAEV,SAAS,CAACmD,KAAV,CAAgB;AACtB3C,MAAAA,KAAK,EAAER,SAAS,CAACsD;AADK,KAAhB,EAELC;AANkB,GAAhB,EAQJA,UATkB;AAUrBC,EAAAA,OAAO,EAAExD,SAAS,CAACmD,KAAV,CAAgB;AACvBM,IAAAA,IAAI,EAAEzD,SAAS,CAACqD;AADO,GAAhB,EAENE,UAZkB;AAarBd,EAAAA,QAAQ,EAAEzC,SAAS,CAACmD,KAAV,CAAgB;AACxBzB,IAAAA,KAAK,EAAE1B,SAAS,CAACmD,KAAV,CAAgB;AACrBO,MAAAA,IAAI,EAAE1D,SAAS,CAACmD,KAAV,CAAgB;AACpBQ,QAAAA,QAAQ,EAAE3D,SAAS,CAACmD,KAAV,CAAgB;AACxBC,UAAAA,OAAO,EAAEpD,SAAS,CAACqD;AADK,SAAhB;AADU,OAAhB;AADe,KAAhB;AADiB,GAAhB,EAQPE;AArBkB,CAAvB;AAwBA,eAAepD,UAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport {\r\n  Segment, Form, Button, Portal, Message,\r\n} from 'semantic-ui-react';\r\nimport PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\nimport config from '../../config.json';\r\n\r\nclass CreateUser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      token: '',\r\n      room: '',\r\n      pseudo: '',\r\n      phone: '',\r\n      school: '',\r\n      message: null,\r\n      variant: null,\r\n      open: false,\r\n      errorName: null,\r\n      errorRoom: null,\r\n      errorNumber: null,\r\n    };\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.setState({\r\n      token: this.props.match.params.token,\r\n    });\r\n  }\r\n\r\n  handleChange = (event) => {\r\n    const { target } = event;\r\n    const { value } = target;\r\n    const { name } = target;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  }\r\n\r\n  makeFeedback = (variant, message) => {\r\n    this.setState({\r\n      message,\r\n      variant,\r\n      open: true,\r\n    });\r\n    setTimeout(() => {\r\n      this.setState({\r\n        message: null,\r\n        variant: null,\r\n        open: false,\r\n      });\r\n    }, 5000);\r\n  }\r\n\r\n  handleSubmit = () => {\r\n    const {\r\n      room, pseudo, phone, token, school\r\n    } = this.state;\r\n    let errorName = null; let errorRoom = null; const\r\n      errorNumber = null;\r\n\r\n    if (/(^1([A-D]([1-4]0[1-9]|[2-4](1[0-9]|2[0-4]))|[ABD]11[0-7]|C11[0-5])$)|(^2([A-C][GD]|D|DD)([0-3]|[GD])([12]|[GD])(0[0-6]|[1-4][12]|)$)|(^3E?(([GD][0-3]|C[1-3])(0[1-9]|10)|C00[1-8])(A|B)?$)|(^4([AB]|C[A-E]|[D-H])[0-9]{3}$)|(^5A[0-9]{3}(-[0-9])?$)|(^6([AD][AB]|BA|CA)[1-5]0[1-6]$)|(PAS SUR LE CAMPUS)/.test(room) === false) {\r\n      errorRoom = 'La chambre ne respecte pas la convention (Le numéro de la résidence, La lettre de la résidence, La lettre de l\\'aile (si besoin), Numéro d\\'étage, Numéro de chambre, Attention les lettres doivent être en majuscules. Si vous n\\'êtes pas sur le campus contactez un MJ';\r\n    }\r\n    if (pseudo.length > 50) {\r\n      errorName = 'Votre pseudo est trop long (50 car. max)';\r\n    } else if (pseudo.length < 4) {\r\n      errorName = 'Votre pseudo est trop court';\r\n    }\r\n\r\n    if (errorName !== null || errorRoom !== null) {\r\n      this.setState({\r\n        errorNumber, errorName, errorRoom,\r\n      });\r\n    } else {\r\n      axios({\r\n        method: 'post',\r\n        url: `${config.back_Url}/users`,\r\n        headers: { 'Content-Type': 'application/json' },\r\n        data: {\r\n          token,\r\n          pseudo,\r\n          room,\r\n          phone,\r\n          school\r\n        },\r\n      }).then((response) => {\r\n        if (response.data.status === 201) {\r\n          window.location.assign(`${config.front_Url}/login/${response.data.object}`);\r\n        } else if (response.data.status === 400) {\r\n          this.makeFeedback(\r\n            'negative',\r\n            response.data.message,\r\n          );\r\n        } else {\r\n          this.makeFeedback(\r\n            'negative',\r\n            \"Le compte n'a pas pu être créé\",\r\n          );\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { variant, message, open } = this.state;\r\n    return (\r\n      <div className=\"bodyDesktop\">\r\n        <div className=\"BigSpace\">\r\n          <Segment>\r\n            <h2>Inscription joueur</h2>\r\n            <Portal open={open}>\r\n              <Message\r\n                style={{\r\n                  left: '20px',\r\n                  position: 'fixed',\r\n                  bottom: '20px',\r\n                  zIndex: 1000,\r\n                }}\r\n                negative={variant === 'negative'}\r\n                positive={variant === 'positive'}\r\n              >\r\n                <Message.Header>{variant === 'negative' ? 'Une erreur est survenue' : \"Tout s'est déroulé comme prévu\"}</Message.Header>\r\n                {message}\r\n              </Message>\r\n            </Portal>\r\n            <Form onSubmit={this.handleSubmit}>\r\n              <Form.Field>\r\n                <label>Pseudo</label>\r\n                <Form.Input placeholder=\"pseudo\" name=\"pseudo\" onChange={this.handleChange} error={this.state.errorName} />\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <label>Chambre</label>\r\n                <Form.Input placeholder=\"Chambre\" name=\"room\" onChange={this.handleChange} error={this.state.errorRoom} />\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <label>Numéro de téléphone</label>\r\n                <Form.Input type=\"number\" placeholder=\"Numéro\" name=\"phone\" onChange={this.handleChange} error={this.state.errorNumber} />\r\n              </Form.Field>\r\n              <Form.Field>\r\n                <label>ST/Mention/Césure/Electifs</label>\r\n                <Form.Input placeholder=\"ST/mention/césure/Electif\" name=\"school\" onChange={this.handleChange}/>\r\n              </Form.Field>\r\n              <Button type=\"submit\">Créer mon profil</Button>\r\n            </Form>\r\n          </Segment>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCreateUser.propTypes = {\r\n  match: PropTypes.shape({\r\n    url: PropTypes.shape({\r\n      replace: PropTypes.func,\r\n    }),\r\n    params: PropTypes.shape({\r\n      token: PropTypes.string,\r\n    }).isRequired,\r\n\r\n  }).isRequired,\r\n  history: PropTypes.shape({\r\n    push: PropTypes.func,\r\n  }).isRequired,\r\n  location: PropTypes.shape({\r\n    state: PropTypes.shape({\r\n      from: PropTypes.shape({\r\n        pathname: PropTypes.shape({\r\n          replace: PropTypes.func,\r\n        }),\r\n      }),\r\n    }),\r\n  }).isRequired,\r\n};\r\n\r\nexport default CreateUser;\r\n"]},"metadata":{},"sourceType":"module"}