{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\louis\\\\Documents\\\\doc\\\\loisirs\\\\interplateau ludique\\\\site\\\\front\\\\src\\\\components\\\\Chart\\\\histo.jsx\";\nimport React, { Component } from 'react';\nimport * as d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst w = 1100;\nconst h = 450;\nconst offsetGroup = 10;\nconst widthBar = 13;\nconst offsetBar = 2;\nconst generalXOffset = 20;\nconst offsetY = 20;\nconst minHeight = 10;\n\nclass BarChart extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.drawChart = () => {\n      const getColor = d => {\n        if (d === 'LUNDI') return '#e41a1c';\n        if (d === 'MARDI') return '#377eb8';\n        if (d === 'MERCREDI') return '#4daf4a';\n        if (d === 'JEUDI') return '#FF33F0';\n        return 'yellow';\n      };\n\n      const svg = d3.selectAll('svg'); // Add Y axis\n\n      const y = d3.scaleLinear().domain([0, 20]).range([h - minHeight - offsetY, 50]);\n      svg.append('g').call(d3.axisLeft(y));\n      svg.append('g').attr('class', 'all').selectAll('g').data(this.props.data).enter().append('g').attr('transform', (d, i) => `translate(${i * (4 * widthBar + offsetGroup)},0)`).append('text').attr('x', (d, i) => 20).attr('y', h).style('font-size', 19).text(d => d.name);\n      svg.append('g').selectAll('g').data(this.props.data).enter().append('g').attr('transform', (d, i) => `translate(${i * (4 * widthBar + offsetGroup)},0)`).selectAll('rect').data(d => d.data).enter().append('rect').attr('x', (d, i) => generalXOffset + i * widthBar + offsetBar).attr('y', (d, i) => y(d.data)).attr('width', widthBar).attr('height', d => h - y(d.data) - offsetY).attr('fill', d => getColor(d.jour));\n      svg.append('g').selectAll('g').data([0, 5, 10, 15, 20]).enter().append('rect').attr('x', 0).attr('y', d => y(d)).attr('width', w - 90).attr('height', 1).attr('fill', 'black');\n      svg.append('g').selectAll('g').data([0, 5, 10, 15, 20]).enter().append('text').text(d => d).attr('x', w - 85).attr('y', d => y(d) + 3);\n      const leg = svg.append('g');\n      leg.append('rect').attr('x', 0).attr('y', 0).attr('width', 15).attr('height', 15).attr('fill', '#e41a1c');\n      leg.append('text').attr('x', 18).attr('y', 15).style('font-size', '15px').text('Lundi');\n      leg.append('rect').attr('x', 100).attr('y', 0).attr('width', 15).attr('height', 15).attr('fill', '#377eb8');\n      leg.append('text').attr('x', 118).attr('y', 15).style('font-size', '15px').text('Mardi');\n      leg.append('rect').attr('x', 200).attr('y', 0).attr('width', 15).attr('height', 15).attr('fill', '#4daf4a');\n      leg.append('text').attr('x', 218).attr('y', 15).style('font-size', '15px').text('Mercredi');\n      leg.append('rect').attr('x', 300).attr('y', 0).attr('width', 15).attr('height', 15).attr('fill', '#FF33F0');\n      leg.append('text').attr('x', 318).attr('y', 15).style('font-size', '15px').text('Jeudi');\n      leg.append('rect').attr('x', 400).attr('y', 0).attr('width', 15).attr('height', 15).attr('fill', 'yellow');\n      leg.append('text').attr('x', 418).attr('y', 15).style('font-size', '15px').text('Vendredi');\n    };\n  }\n\n  componentDidMount() {\n    d3.select('.d3Container').append('svg').attr('width', w).attr('height', h);\n    this.drawChart();\n  }\n\n  componentDidUpdate() {\n    d3.selectAll('.d3Container').selectAll('g').remove();\n    this.drawChart();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: `#${this.props.id}`,\n      style: {\n        width: \"100%\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 12\n    }, this);\n  }\n\n}\n\nBarChart.propTypes = {\n  data: PropTypes.array,\n  id: PropTypes.any.isRequired\n};\nBarChart.defaultProps = {\n  data: []\n};\nexport default BarChart;","map":{"version":3,"sources":["C:/Users/louis/Documents/doc/loisirs/interplateau ludique/site/front/src/components/Chart/histo.jsx"],"names":["React","Component","d3","PropTypes","w","h","offsetGroup","widthBar","offsetBar","generalXOffset","offsetY","minHeight","BarChart","drawChart","getColor","d","svg","selectAll","y","scaleLinear","domain","range","append","call","axisLeft","attr","data","props","enter","i","style","text","name","jour","leg","componentDidMount","select","componentDidUpdate","remove","render","id","width","propTypes","array","any","isRequired","defaultProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport * as d3 from 'd3';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst w = 1100;\r\nconst h = 450;\r\nconst offsetGroup = 10;\r\nconst widthBar = 13;\r\nconst offsetBar = 2;\r\nconst generalXOffset = 20;\r\nconst offsetY = 20;\r\nconst minHeight = 10;\r\n\r\nclass BarChart extends Component {\r\n  componentDidMount() {\r\n    d3.select('.d3Container')\r\n      .append('svg')\r\n      .attr('width', w)\r\n      .attr('height', h);\r\n    this.drawChart();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    d3.selectAll('.d3Container').selectAll('g').remove();\r\n    this.drawChart();\r\n  }\r\n\r\n  drawChart = () => {\r\n    const getColor = (d) => {\r\n      if (d === 'LUNDI') return '#e41a1c';\r\n      if (d === 'MARDI') return '#377eb8';\r\n      if (d === 'MERCREDI') return '#4daf4a';\r\n      if (d === 'JEUDI') return '#FF33F0';\r\n      return 'yellow';\r\n    };\r\n\r\n    const svg = d3.selectAll('svg');\r\n\r\n    // Add Y axis\r\n    const y = d3.scaleLinear()\r\n      .domain([0, 20])\r\n      .range([h - minHeight - offsetY, 50]);\r\n    svg.append('g')\r\n      .call(d3.axisLeft(y));\r\n\r\n    svg.append('g').attr('class', 'all').selectAll('g')\r\n      .data(this.props.data)\r\n      .enter()\r\n      .append('g')\r\n      .attr('transform', (d, i) => `translate(${i * (4 * widthBar + offsetGroup)},0)`)\r\n      .append('text')\r\n      .attr('x', (d, i) => 20)\r\n      .attr('y', h)\r\n      .style('font-size', 19)\r\n      .text((d) => d.name);\r\n\r\n    svg.append('g').selectAll('g')\r\n      .data(this.props.data)\r\n      .enter()\r\n      .append('g')\r\n      .attr('transform', (d, i) => `translate(${i * (4 * widthBar + offsetGroup)},0)`)\r\n      .selectAll('rect')\r\n      .data((d) => d.data)\r\n      .enter()\r\n      .append('rect')\r\n      .attr('x', (d, i) => generalXOffset + i * widthBar + offsetBar)\r\n      .attr('y', (d, i) => y(d.data))\r\n      .attr('width', widthBar)\r\n      .attr('height', (d) => h - y(d.data) - offsetY)\r\n      .attr('fill', (d) => getColor(d.jour));\r\n\r\n    svg.append('g').selectAll('g')\r\n      .data([0, 5, 10, 15, 20])\r\n      .enter()\r\n      .append('rect')\r\n      .attr('x', 0)\r\n      .attr('y', (d) => y(d))\r\n      .attr('width', w - 90)\r\n      .attr('height', 1)\r\n      .attr('fill', 'black');\r\n\r\n    svg.append('g').selectAll('g')\r\n      .data([0, 5, 10, 15, 20])\r\n      .enter()\r\n      .append('text')\r\n      .text((d) => d)\r\n      .attr('x', w - 85)\r\n      .attr('y', (d) => y(d) + 3);\r\n\r\n    const leg = svg.append('g');\r\n    leg.append('rect')\r\n      .attr('x', 0)\r\n      .attr('y', 0)\r\n      .attr('width', 15)\r\n      .attr('height', 15)\r\n      .attr('fill', '#e41a1c');\r\n    leg.append('text')\r\n      .attr('x', 18)\r\n      .attr('y', 15)\r\n      .style('font-size', '15px')\r\n      .text('Lundi');\r\n\r\n    leg.append('rect')\r\n      .attr('x', 100)\r\n      .attr('y', 0)\r\n      .attr('width', 15)\r\n      .attr('height', 15)\r\n      .attr('fill', '#377eb8');\r\n    leg.append('text')\r\n      .attr('x', 118)\r\n      .attr('y', 15)\r\n      .style('font-size', '15px')\r\n      .text('Mardi');\r\n\r\n    leg.append('rect')\r\n      .attr('x', 200)\r\n      .attr('y', 0)\r\n      .attr('width', 15)\r\n      .attr('height', 15)\r\n      .attr('fill', '#4daf4a');\r\n    leg.append('text')\r\n      .attr('x', 218)\r\n      .attr('y', 15)\r\n      .style('font-size', '15px')\r\n      .text('Mercredi');\r\n\r\n    leg.append('rect')\r\n      .attr('x', 300)\r\n      .attr('y', 0)\r\n      .attr('width', 15)\r\n      .attr('height', 15)\r\n      .attr('fill', '#FF33F0');\r\n    leg.append('text')\r\n      .attr('x', 318)\r\n      .attr('y', 15)\r\n      .style('font-size', '15px')\r\n      .text('Jeudi');\r\n\r\n    leg.append('rect')\r\n        .attr('x', 400)\r\n        .attr('y', 0)\r\n        .attr('width', 15)\r\n        .attr('height', 15)\r\n        .attr('fill', 'yellow');\r\n    leg.append('text')\r\n        .attr('x', 418)\r\n        .attr('y', 15)\r\n        .style('font-size', '15px')\r\n        .text('Vendredi');\r\n  }\r\n\r\n  render() {\r\n    return <div id={`#${this.props.id}`} style={{width: \"100%\"}}/>;\r\n  }\r\n}\r\n\r\nBarChart.propTypes = {\r\n  data: PropTypes.array,\r\n  id: PropTypes.any.isRequired,\r\n};\r\n\r\nBarChart.defaultProps = {\r\n  data: [],\r\n};\r\n\r\nexport default BarChart;\r\n"]},"metadata":{},"sourceType":"module"}